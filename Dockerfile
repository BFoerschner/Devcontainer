#    |             |             |             |             |             |
#    |.===.        |.===.        |.===.        |.===.        |.===.        |.===.
#    {}o o{}       {}o o{}       {}o o{}       {}o o{}       {}o o{}       {}o o{}
# ooO--(_)--Ooo-ooO--(_)--Ooo-ooO--(_)--Ooo-ooO--(_)--Ooo-ooO--(_)--Ooo-ooO--(_)--Ooo
# --------------------------------------------------------------------------------------------------
# | |__ / _|___  ___ _ _ ___ __| |_  _ _  ___ _ _ / /_| |_____ ____ ___ _ _| |_ __ _(_)_ _  ___ _ _ 
# | '_ \  _/ _ \/ -_) '_(_-</ _| ' \| ' \/ -_) '_/ / _` / -_) V / _/ _ \ ' \  _/ _` | | ' \/ -_) '_|
# |_.__/_| \___/\___|_| /__/\__|_||_|_||_\___|_|/_/\__,_\___|\_/\__\___/_||_\__\__,_|_|_||_\___|_|  `
# __________________________________________________________________________________________________
FROM ubuntu:24.10

#####################################################################################
#  Copy relevant files over  --------------------------------------------------------
#####################################################################################
COPY ["bin", "/root/.local/bin"]
COPY ["init_scripts", "/root/init_scripts"]
COPY ["init.sh", "/root"]

#####################################################################################
#  Install programs + cleanup afterwards  -------------------------------------------
#####################################################################################
RUN \
  /root/init.sh && \
  rm -rf \
  /root/init_scripts \
  /root/init.sh

#####################################################################################
#  Start in provided host directory and run TMUX ------------------------------------
#####################################################################################
WORKDIR /root/host
ENTRYPOINT ["tmux", "-u"]

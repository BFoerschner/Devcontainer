FROM ubuntu:24.10

################################################################################
#  Copy relevant files over  ---------------------------------------------------
################################################################################
COPY ["bin", "/root/.local/bin"]
COPY ["init_scripts", "/root/init_scripts"]
COPY ["init.sh", "/root"]

################################################################################
#  Install programs + cleanup afterwards  --------------------------------------
################################################################################
RUN \
  /root/init.sh && \
  rm -rf \
  /root/init_scripts \
  /root/init.sh

################################################################################
#  Start in provided host directory and run TMUX -------------------------------
################################################################################
WORKDIR /root/host
ENTRYPOINT ["tmux", "-u"]
